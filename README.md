# 即時聊天室

一個基於 Node.js 和 Socket.IO 的即時聊天應用程式，支援隨機配對和密語配對功能。

## 功能特色

- 🚀 **即時通訊**: 使用 Socket.IO 實現即時訊息傳送
- 🎯 **隨機配對**: 與隨機用戶進行匿名聊天
- 🔐 **密語配對**: 使用密語與特定用戶配對
- 📱 **響應式設計**: 支援桌面和行動裝置
- 🎨 **現代化 UI**: 美觀的使用者介面設計
- ⚡ **高效能**: 優化的程式碼結構和記憶體管理

## 技術架構

### 後端
- **Node.js**: 伺服器運行環境
- **Express.js**: Web 框架
- **Socket.IO**: 即時通訊庫
- **UUID**: 唯一識別碼生成

### 前端
- **HTML5**: 語義化標記
- **CSS3**: 現代化樣式和動畫
- **JavaScript ES6+**: 模組化程式設計
- **Socket.IO Client**: 客戶端即時通訊

## 安裝與執行

### 前置需求
- Node.js 14.0.0 或更高版本
- npm 或 pnpm 套件管理器

### 安裝步驟

1. **克隆專案**
   ```bash
   git clone <repository-url>
   cd realtime-chat-app
   ```

2. **安裝依賴**
   ```bash
   npm install
   # 或使用 pnpm
   pnpm install
   ```

3. **啟動伺服器**
   ```bash
   # 生產環境
   npm start
   
   # 開發環境 (自動重啟)
   npm run dev
   ```

4. **開啟瀏覽器**
   訪問 `http://localhost:3000`

## 使用說明

### 隨機配對
1. 點擊「開始配對」按鈕
2. 等待系統配對其他用戶
3. 配對成功後即可開始聊天

### 密語配對
1. 點擊「使用密語聊天」
2. 輸入相同的密語
3. 點擊「開始配對」
4. 與使用相同密語的用戶配對

### 聊天功能
- 支援即時訊息傳送
- 按 Enter 鍵快速發送
- 顯示訊息時間戳
- 系統訊息提示

## 專案結構

```
realtime-chat-app/
├── server.js              # 主伺服器檔案
├── package.json           # 專案配置
├── README.md             # 專案說明
├── static/               # 靜態檔案
│   └── index.html        # 前端頁面
└── test/                 # 測試檔案
    ├── class.js
    ├── date.js
    ├── index.js
    ├── Log.js
    ├── LogAPP.js
    └── Messages.js
```

## 程式碼優化亮點

### 後端優化
- **類別化設計**: 使用 `ChatRoomManager` 類別管理聊天室邏輯
- **錯誤處理**: 完整的 try-catch 錯誤處理機制
- **記憶體管理**: 自動清理斷線用戶和空佇列
- **優雅關閉**: 支援 SIGTERM 和 SIGINT 信號處理
- **環境變數**: 支援 PORT 環境變數配置

### 前端優化
- **模組化架構**: 使用 ES6 類別重構前端邏輯
- **響應式設計**: 支援各種螢幕尺寸
- **現代化 UI**: 使用漸層色彩和動畫效果
- **使用者體驗**: 改善按鈕互動和視覺回饋
- **程式碼品質**: 清晰的程式碼結構和註解

## 開發指南

### 新增功能
1. 在 `server.js` 中添加後端邏輯
2. 在 `static/index.html` 中更新前端介面
3. 測試功能是否正常運作

### 自訂樣式
- 修改 CSS 變數來調整主題色彩
- 更新 `.btn-primary` 的漸層背景
- 調整 `.message-content` 的圓角半徑

### 部署
- 支援 Heroku、Vercel 等平台部署
- 設定環境變數 `PORT` 指定端口
- 確保所有依賴都已安裝

## 授權

MIT License - 詳見 [LICENSE](LICENSE) 檔案

## 貢獻

歡迎提交 Issue 和 Pull Request 來改善這個專案！

## 更新日誌

### v1.0.0
- 初始版本發布
- 支援隨機配對和密語配對
- 現代化 UI 設計
- 完整的錯誤處理機制 